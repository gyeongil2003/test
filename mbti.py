import streamlit as st

# --- 페이지 설정 ---
st.set_page_config(page_title="MBTI 직업 추천 💼", page_icon="🧭", layout="centered")

# --- 헤더 ---
st.markdown("<h1 style='text-align: center; color: #ff69b4;'>🔮 MBTI로 보는 진로 탐색 💼</h1>", unsafe_allow_html=True)
st.markdown("<h3 style='text-align: center;'>당신의 MBTI는 무엇인가요? 😊<br>당신에게 어울리는 직업을 추천해드릴게요! 🚀</h3>", unsafe_allow_html=True)
st.markdown("---")

# --- MBTI 목록 ---
mbti_types = [
    "INTJ 🧠", "INTP 🔬", "ENTJ 👑", "ENTP 🗣️",
    "INFJ 🌈", "INFP 🎨", "ENFJ 🎤", "ENFP 🌟",
    "ISTJ 📚", "ISFJ 🧸", "ESTJ 💼", "ESFJ 💝",
    "ISTP 🛠️", "ISFP 🎶", "ESTP 🏎️", "ESFP 🎭"
]

mbti_input = st.selectbox("📌 당신의 MBTI를 선택하세요:", mbti_types)

# --- 추천 직업 DB ---
career_dict = {
    "INTJ": ["데이터 사이언티스트 📊", "전략 컨설턴트 🧩", "AI 엔지니어 🤖"],
    "INTP": ["연구원 🧪", "개발자 👨‍💻", "이론 물리학자 🌌"],
    "ENTJ": ["CEO 👔", "프로덕트 매니저 📱", "경영 컨설턴트 💼"],
    "ENTP": ["스타트업 창업자 🚀", "광고 기획자 🎯", "기술 분석가 📡"],
    "INFJ": ["상담사 🧘‍♂️", "작가 ✍️", "심리학자 🧠"],
    "INFP": ["시인 📝", "디자이너 🎨", "사회운동가 ✊"],
    "ENFJ": ["교사 📚", "인사담당자 🤝", "사회복지사 💖"],
    "ENFP": ["마케터 📢", "방송인 🎤", "브랜드 디렉터 💡"],
    "ISTJ": ["회계사 📑", "공무원 🏛️", "데이터 분석가 📉"],
    "ISFJ": ["간호사 🏥", "초등교사 🧸", "보육교사 👶"],
    "ESTJ": ["관리자 📋", "프로젝트 매니저 🏗️", "경찰관 🚓"],
    "ESFJ": ["이벤트 플래너 🎉", "간호 관리자 🩺", "호텔 매니저 🏨"],
    "ISTP": ["기계공 🛠️", "파일럿 ✈️", "보안 전문가 🔐"],
    "ISFP": ["패션 디자이너 👗", "사진작가 📸", "음악가 🎵"],
    "ESTP": ["영업사원 💬", "트레이더 💹", "스턴트 배우 🎬"],
    "ESFP": ["배우 🎭", "MC 🎙️", "무대 연출가 💃"]
}

# --- MBTI 추출 ---
selected_mbti = mbti_input.split()[0]  # 이모지 제거

# --- 직업 설명 DB 추가 ---
career_descriptions = {
    # INTJ
    "데이터 사이언티스트 📊": "논리적 사고와 분석 능력이 뛰어난 INTJ에게 적합합니다. 데이터 기반 의사결정을 선호하고 혼자 깊이 있는 작업을 잘 수행합니다.",
    "전략 컨설턴트 🧩": "체계적 사고와 미래지향적 계획 수립 능력을 가진 INTJ는 문제 해결에 강점을 보여 전략 수립에 유리합니다.",
    "AI 엔지니어 🤖": "복잡한 시스템을 설계하고 최적화하는 데 집중할 수 있는 INTJ는 인공지능 분야에서도 탁월한 역량을 발휘합니다.",

    # INTP
    "연구원 🧪": "끊임없이 궁금증을 갖고 깊이 탐구하는 성향의 INTP에게 연구직은 최고의 선택입니다.",
    "개발자 👨‍💻": "논리적인 시스템 구축과 추상적 문제 해결을 즐기는 INTP에게 코딩과 개발은 즐거운 퍼즐입니다.",
    "이론 물리학자 🌌": "복잡하고 심오한 원리를 이해하려는 INTP의 사고 특성이 이론 물리 분야에 잘 맞습니다.",

    # ENTJ
    "CEO 👔": "결단력과 리더십이 뛰어난 ENTJ는 조직을 이끄는 데 적합한 리더형 인물입니다.",
    "프로덕트 매니저 📱": "논리와 추진력이 필요한 제품 개발 관리 업무는 ENTJ의 전략적 기획 역량과 잘 어울립니다.",
    "경영 컨설턴트 💼": "효율성과 성과 중심의 ENTJ는 문제를 빠르게 진단하고 해결책을 제시하는 데 능숙합니다.",

    # ENTP
    "스타트업 창업자 🚀": "도전을 즐기고 새로운 아이디어에 열정적인 ENTP는 변화가 많은 창업 환경에서 빛납니다.",
    "광고 기획자 🎯": "창의적 아이디어와 유쾌한 커뮤니케이션 능력을 가진 ENTP에게 매력적인 분야입니다.",
    "기술 분석가 📡": "기술에 대한 빠른 이해력과 비판적 사고력을 바탕으로 ENTP는 기술 트렌드를 읽는 데 강합니다.",

    # INFJ
    "상담사 🧘‍♂️": "타인의 감정을 잘 공감하고 깊이 있는 대화를 나눌 수 있는 INFJ는 내담자의 문제를 잘 이해합니다.",
    "작가 ✍️": "내면의 세계가 풍부하고 언어 감각이 뛰어난 INFJ에게 글쓰기는 자아 표현의 좋은 도구입니다.",
    "심리학자 🧠": "사람의 내면과 동기를 탐구하는 INFJ는 인간 심리에 깊은 관심과 통찰을 보입니다.",

    # INFP
    "시인 📝": "감수성과 이상주의가 강한 INFP는 자신의 내면세계를 예술적으로 표현하는 데 뛰어납니다.",
    "디자이너 🎨": "창의적이고 미적 감각이 풍부한 INFP는 자유로운 분위기에서 최고의 디자인을 만듭니다.",
    "사회운동가 ✊": "가치 중심적인 INFP는 자신이 믿는 정의를 위해 행동하는 데 열정을 쏟습니다.",

    # ENFJ
    "교사 📚": "사람을 이끄는 데 탁월한 ENFJ는 교육을 통해 타인의 성장을 도울 수 있습니다.",
    "인사담당자 🤝": "사람 사이의 조율과 배려가 필요한 인사 업무에 ENFJ의 공감 능력과 조직 관리 능력이 빛납니다.",
    "사회복지사 💖": "도움을 필요로 하는 사람을 섬기고 지원하려는 ENFJ의 마음이 이 직업에 잘 맞습니다.",

    # ENFP
    "마케터 📢": "창의적이고 사람과 소통하기 좋아하는 ENFP는 브랜드와 사람을 연결하는 마케터에 적합합니다.",
    "방송인 🎤": "다양한 주제에 열정적이고 감정을 풍부하게 표현하는 ENFP는 방송 분야에서 강점을 가집니다.",
    "브랜드 디렉터 💡": "트렌드에 민감하고 스토리텔링 능력이 뛰어난 ENFP는 브랜드에 생명력을 불어넣습니다.",

    # ISTJ
    "회계사 📑": "규칙을 잘 따르고 정확한 일처리를 선호하는 ISTJ에게 회계는 안정적이고 만족스러운 선택입니다.",
    "공무원 🏛️": "신중하고 책임감 있는 ISTJ는 체계적인 조직 구조에서 일하는 것을 선호합니다.",
    "데이터 분석가 📉": "사실 기반의 분석과 논리적 해석에 능한 ISTJ는 데이터를 다루는 데 강점을 보입니다.",

    # ISFJ
    "간호사 🏥": "따뜻한 돌봄과 섬세한 주의가 필요한 간호는 ISFJ의 대표 직업입니다.",
    "초등교사 🧸": "아이들의 성장에 기여하는 따뜻한 교육 환경을 만드는 데 ISFJ의 성향이 잘 맞습니다.",
    "보육교사 👶": "차분하고 헌신적인 ISFJ는 영유아의 정서적 안정에 중요한 역할을 합니다.",

    # ESTJ
    "관리자 📋": "체계적인 시스템 구축과 효율적인 운영을 선호하는 ESTJ에게 관리자 역할이 적합합니다.",
    "프로젝트 매니저 🏗️": "목표 지향적이고 실행력이 뛰어난 ESTJ는 팀을 이끄는 프로젝트 관리에 능합니다.",
    "경찰관 🚓": "규율과 책임을 중시하는 ESTJ는 법 집행 기관에서 원칙을 수호하는 데 적합합니다.",

    # ESFJ
    "이벤트 플래너 🎉": "타인의 기분을 세심하게 살피고 기획 능력이 뛰어난 ESFJ는 이벤트 기획에 적합합니다.",
    "간호 관리자 🩺": "조직을 이끄는 능력과 배려심을 모두 갖춘 ESFJ는 의료현장에서 중요한 역할을 합니다.",
    "호텔 매니저 🏨": "서비스 마인드와 사람 중심의 사고가 강한 ESFJ에게 적합한 직업입니다.",

    # ISTP
    "기계공 🛠️": "손재주가 좋고 현실적인 ISTP는 기계나 장비 수리에 강점을 보입니다.",
    "파일럿 ✈️": "기술적 이해와 침착한 대응력을 가진 ISTP는 항공 분야에서 적합합니다.",
    "보안 전문가 🔐": "위기 상황에서도 침착하게 문제를 해결하는 ISTP에게 중요한 보안 분야가 잘 맞습니다.",

    # ISFP
    "패션 디자이너 👗": "섬세하고 미적 감각이 뛰어난 ISFP는 감성적인 디자인에 강합니다.",
    "사진작가 📸": "순간을 감성적으로 포착하는 능력을 가진 ISFP는 시각 예술에 적합합니다.",
    "음악가 🎵": "감정을 소리로 표현하고자 하는 ISFP에게 음악은 강력한 표현 수단입니다.",

    # ESTP
    "영업사원 💬": "말을 잘하고 즉흥적으로 대처하는 ESTP는 영업 현장에서 성과를 잘 냅니다.",
    "트레이더 💹": "빠른 판단력과 리스크 감수가 뛰어난 ESTP는 금융시장에서 역동적으로 활동할 수 있습니다.",
    "스턴트 배우 🎬": "모험을 즐기고 신체 활동에 능한 ESTP에게 적합한 도전적인 직업입니다.",

    # ESFP
    "배우 🎭": "표현력과 감수성이 뛰어난 ESFP는 무대나 화면 위에서 자신을 가장 잘 드러낼 수 있습니다.",
    "MC 🎙️": "사람들과 소통하는 것을 즐기고 에너지가 넘치는 ESFP는 진행자로서 탁월합니다.",
    "무대 연출가 💃": "창의력과 감정 표현 능력을 바탕으로 공연을 이끄는 데 적합합니다."
}

# --- 추천 결과 출력 ---
if st.button("🔍 직업 추천 받기!"):
    st.markdown("## 🎯 추천 직업")
    recommendations = career_dict.get(selected_mbti, [])
    for job in recommendations:
        with st.expander(f"✨ {job}"):
            st.write(career_descriptions.get(job, "설명이 아직 준비되지 않았어요. 😢"))
    st.balloons()

# --- 푸터 ---
st.markdown("---")
st.markdown("<p style='text-align: center; color: gray;'>Made with ❤️ by 당신의 진로 친구 AI</p>", unsafe_allow_html=True)
